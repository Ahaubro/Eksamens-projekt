<div>
<li> <a href="/smileposts" id="smileposts">Smile Posts</a></li>
<li> <a href="/chatrooms"  id="chatrooms">Chatrooms</a></li>
<li> <a href="/editProfile">My Profile</a></li>
<li id="search"> 
    <input id="user_search" placeholder="Search for user"> 
    <button id="search_btn" onclick="getUserBySearch()"> Search </button> 
</li>

<li><button id="logoutBtn" onclick="logout()"> Logout</button></li>
<div id="userPos" class="show-info">ðŸ‘¤</div>

<div>Hey hey!</div>


<div id="info-pos" class="hide">
    <p id="username"></p>
    <p id="firstname"></p>
</div>
</div>


<script>
    showUsername();

    async function showUsername(){

        let username = document.getElementById("username")
        let firstname = document.getElementById("firstname")
        const res = await fetch(`/api/loggedInUser`);
        const user = await res.json();

        username.innerText = "Logged in as " + user.username
    }



    async function getUserBySearch(){
        const searchQuery = document.getElementById("user_search").value;

        //const userObjRes = await fetch(`/api/getUserByUsername/${username}`)
        //const userInformation = await userObjRes.json();

        //window.location.replace(`/search/${searchQuery}`);
        window.location.replace('/search/' + searchQuery);
        
    }


</script>

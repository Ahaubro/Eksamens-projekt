<h1>Chatrooms</h1>

<div id="messages"></div>

<input placeholder="Message" id="messageInput">
<button onclick="sendMessage()">Send message</button>




<script src="/socket.io/socket.io.js"></script>
<script>
    setActive()
    function setActive(){

        const currentPage = window.location.pathname.substring(1)
        console.log(currentPage)
        let aTags = document.getElementsByTagName('a')
        for (let i = 0; i < 4; i++) {
            if(aTags[i].className === "active"){
                aTags[i].id === aTags[i].className
            }
        }
        document.getElementById(currentPage).className = "active"
    }

    const socket = io();
    socket.on("recieved-message", ({username, message}) => {
        messages.innerHTML+=`<p> ${username} <br> ${message} </p>`
    });
    
    function sendMessage() {
        const input = document.getElementById("messageInput").value;
        socket.emit("sent-message", {username: "Test", message: input});
    }
       
</script>

<h1>Smile Posts</h1>

<div id="posts">

</div>

<script>

    setActive()
    function setActive(){

        const currentPage = window.location.pathname.substring(1)
        let aTags = document.getElementsByTagName('a')
        for (let i = 0; i < 4; i++) {
            if(aTags[i].className === "active"){
                aTags[i].id === aTags[i].className
            }
        }
        document.getElementById(currentPage).className = "active"
    }


    const postsDiv = document.getElementById("posts");
    let posts;
    async function loadPosts(){
        const response = await fetch("/api/posts");
        const result = await response.json();
        posts = result;
        for(let i in posts){
            const {text} = posts[i];
            postsDiv.innerHTML += `<p>
                <b>Random user</b><br>
                ${text}
            </p>`;
        }
    }
    loadPosts();

</script>